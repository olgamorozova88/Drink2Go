const siteNavigation=document.querySelector(".site-navigation"),menuToggle=document.querySelector(".site-navigation__toggle"),siteNavigationLinks=document.querySelectorAll(".site-navigation__link"),rangeSlider=document.querySelector(".range__target"),rangeInputs=document.querySelectorAll(".range__price-input"),form=document.querySelector("#catalog-form"),sortToggle=document.querySelector(".sort__select"),sortOptions=document.querySelector(".sort__options"),paginationPrev=document.querySelector("#page-prev"),paginationNext=document.querySelector("#page-next"),paginationLinks=document.querySelectorAll(".pagination__link"),mapContainer=document.querySelector(".map");window.addEventListener("load",(()=>siteNavigation.classList.remove("site-navigation--no-js"))),menuToggle.addEventListener("click",(()=>siteNavigation.classList.toggle("site-navigation--open"))),siteNavigationLinks.forEach((e=>{e.addEventListener("click",(()=>{siteNavigationLinks.forEach((e=>{e.classList.remove("site-navigation__link--active")})),e.classList.add("site-navigation__link--active")}))}));const swiper=new Swiper(".promo-swiper",{loop:!0,keyboard:{enabled:!0,onlyInViewport:!1},speed:1e3,pagination:{el:".promo-swiper__pagination",bulletClass:"promo-swiper__pagination-bullet",bulletActiveClass:"promo-swiper__pagination-bullet--active",clickable:!0},navigation:{nextEl:".promo-swiper__button--next",prevEl:".promo-swiper__button--prev"},a11y:{prevSlideMessage:"Следующий слайд",nextSlideMessage:"Предыдущий слайд"}});noUiSlider.create(rangeSlider,{start:[0,225],connect:!0,cssPrefix:"range__",range:{min:0,max:375},step:10,handleAttributes:[{"aria-label":"Меньше"},{"aria-label":"Больше"}],animate:!1}),rangeSlider.noUiSlider.on("slide",((e,t)=>{rangeInputs[t].value=Math.round(e[t])})),rangeInputs.forEach(((e,t)=>{let i=[];e.addEventListener("change",(e=>{i[t]=e.target.value,rangeSlider.noUiSlider.set(i)}))})),rangeInputs.forEach((e=>{e.addEventListener("input",(t=>{Number(t.target.value)>Number(e.max)&&(e.value=e.max)}))})),form.addEventListener("reset",(()=>rangeSlider.noUiSlider.set([0,225]))),sortToggle.addEventListener("click",(()=>sortToggle.classList.toggle("sort__select--opened"))),sortOptions.addEventListener("click",(e=>{const t=e.target;sortToggle.innerText=t.innerText,sortToggle.classList.remove("sort__select--opened")})),paginationLinks.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target;paginationPrev.removeAttribute("style"),paginationNext.removeAttribute("style"),paginationLinks.forEach((e=>{e.classList.remove("pagination__link--active"),t.classList.add("pagination__link--active")})),"page-1"===t.id&&(paginationPrev.style.visibility="hidden"),"page-3"===t.id&&(paginationNext.style.visibility="hidden")}))}));const COORDS=[59.9684,30.3176],map=L.map(mapContainer,{scrollWheelZoom:!1}).setView(COORDS,18);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);const marker=L.marker(COORDS,{icon:L.icon({iconUrl:"./img/map/map_pin.svg",iconSize:[38,50],iconAnchor:[19,50]}),title:"Наш адрес: Санкт-Петербург, набережная реки Карповки, дом 5"}).addTo(map);